<div class="user">
  <kt-portlet>
    <kt-portlet-header title="{{ 'HSVT' | translate }}">
      <ng-container ktPortletTools></ng-container>
    </kt-portlet-header>
    <kt-portlet-body>
      <form class="kt-form" [formGroup]="userForm">
        <div class="kt-portlet__body">
          <div class="row">
            <div class="col-lg-12 kt-margin-bottom-20-mobile form-group" *ngIf="data ? false : true">
              <label>{{ 'SEARCH_TK' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="stk"
                placeholder="{{ 'SEARCH_TK' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'FULLNAME' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="name"
                placeholder="{{ 'FULLNAME' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'PHONE' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="phone"
                placeholder="{{ 'PHONE' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'ADDRESS' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="address"
                placeholder="{{ 'ADDRESS' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'CMND' | translate }} <span class="text-danger">*</span></label>
              <input
                type="email"
                class="form-control"
                formControlName="idCardNumber"
                placeholder="{{ 'CMND' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>

            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'SO_TIEN_VAY' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="amount"
                (keyup)="onKeyMoney()"
                placeholder="{{ 'SO_TIEN_VAY' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'MD_VAY' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="description"
                placeholder="{{ 'MD_VAY' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group" *ngIf="loans.length !== 0">
              <label>{{ 'TIME_VAY' | translate }} <span class="text-danger">*</span></label>
              <ng-select
                [items]="loans"
                [clearable]="false"
                placeholder="{{ 'CHOISE_STK' | translate }}"
                formControlName="time"
                class="select"
                bindLabel="months"
                bindValue="id"
                [searchable]="false"
                (change)="changeLs()"
              >
              </ng-select>
            </div>

            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group">
              <label>{{ 'LAI_SUAT' | translate }} <span class="text-danger">*</span></label>
              <input
                type="text"
                class="form-control"
                formControlName="ls"
                placeholder="{{ 'LAI_SUAT' | translate }}"
                onkeydown="return event.key != 'Enter';"
              />
            </div>
            <div class="col-lg-6 kt-margin-bottom-20-mobile form-group" *ngIf="userIn.length !== 0">
              <label>{{ 'TK_NHAN' | translate }} <span class="text-danger">*</span></label>

              <ng-select
                [items]="userIn"
                [clearable]="false"
                placeholder="{{ 'TK_NHAN' | translate }}"
                formControlName="tk"
                class="select"
                bindLabel="stk"
                bindValue="id"
                [searchable]="false"
              >
              </ng-select>
            </div>
            <div class="col-lg-12 kt-margin-bottom-20-mobile form-group" *ngIf="listHsvt.length !== 0">
              <div class="tstc">
                <ng-container *ngFor="let hs of listHsvt; let i = index;">
                  <div class="d-flex justify-content-between w-200">
                    <a class="link-tstc">{{ hs.name }}</a>
                    <a class="remove" (click)=remove(hs.id)>Xo√°</a>
                  </div>
                </ng-container>
              </div>
            </div>
          </div>
        </div>
        <div class="kt-portlet__foot kt-portlet__no-border kt-portlet__foot--fit">
          <div class="kt-form__actions kt-form__actions--solid">
            <div class="row text-right">
              <div class="col-lg-12">
                <button type="button" mat-raised-button cdkFocusInitial type="button" (click)="cancel()">
                  {{ 'CANCEL' | translate }}</button
                >&nbsp;
                <button type="button" mat-raised-button color="primary" type="button" (click)="submit()" *ngIf="isCreate">
                  {{ 'CREATE' | translate }}
                </button>&nbsp;
                <button type="button" mat-raised-button color="primary" type="button" (click)="addTstc()" *ngIf="isAddTstc">
                  {{ 'ADD_TSTC' | translate }}</button
                >&nbsp;
                <button type="button" mat-raised-button color="primary" type="button" (click)="submit()" *ngIf="isComfirm">
                  {{ 'COMFIRM' | translate }}
                </button>&nbsp;
                <button type="button" mat-raised-button color="primary" type="button" (click)="approval()" *ngIf="isApproval">
                  {{ 'APPROVAL' | translate }}
                </button>
                &nbsp;
                <button type="button" mat-raised-button color="primary" type="button" (click)="refuse()" *ngIf="isRefuse">
                  {{ 'REFUSE' | translate }}
                </button>
              </div>
            </div>
          </div>
        </div>
      </form>
    </kt-portlet-body>
  </kt-portlet>
</div>
